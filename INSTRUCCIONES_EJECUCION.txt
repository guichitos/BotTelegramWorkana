INSTRUCCIONES PARA CORRER EL SISTEMA
====================================

1) Preparación del entorno
--------------------------
- Usa Python 3.10+.
- (Opcional pero recomendado) Crea y activa un entorno virtual (venv):
  Windows (PowerShell):
    python -m venv venv
    .\venv\Scripts\Activate.ps1
  Linux/Mac:
    python3 -m venv venv
    source venv/bin/activate
- Instala las dependencias principales:
  pip install python-telegram-bot==20.* mariadb selenium requests beautifulsoup4 python-dotenv
- Asegúrate de tener instalado GeckoDriver/Firefox (Selenium) y que esté en el PATH.

2) Configuración básica
-----------------------
- Copia .env.example a .env.dev/.env.laptop/.env.prod según el entorno y ajusta los valores.
- Define BOT_ENV para que el loader seleccione el archivo correspondiente.
- Ajusta DB_* para las conexiones de base de datos.
- Configura TELEGRAM_BOT_TOKEN y el resto de variables necesarias en tu .env.*.

3) Ejecución de los componentes principales
-------------------------------------------
- Bot de Telegram: inicia el bot que atiende comandos.
  python 01_bot.py

- Scheduler de scraping y escaneo de skills: ejecuta scraping periódico y revisa las skills de usuarios sobre los proyectos guardados.
  python 02_check_workana_jobs.py

4) Otros apuntes útiles
-----------------------
- Si solo quieres lanzar un scraping puntual sin scheduler, usa run_scraper_and_store.py (ajusta la URL de prueba o pásala como argumento dentro del código).
- El archivo config_settings.json controla los intervalos en minutos del scheduler (scrape_all_minutes y user_skill_scan_minutes)
y el cupo máximo de usuarios permitidos (max_users).
- Los logs se imprimen en consola; puedes redirigir la salida a un archivo si necesitas auditoría.


Conectar: ssh root@116.203.98.129

Script principal:
/home/admin/web/workanabot.guillemendizabal.com/private/bot/bot.py

Entorno virtual:
/home/admin/web/workanabot.guillemendizabal.com/private/bot/venv/

Usuario de ejecución:
admin

Directorio de trabajo:
/home/admin/web/workanabot.guillemendizabal.com/private/bot/

Repositorio Git:
https://github.com/guichitos/BotTelegramWorkana

Actualizar código desde GitHub:

cd /home/admin/web/workanabot.guillemendizabal.com/private/bot
git pull
